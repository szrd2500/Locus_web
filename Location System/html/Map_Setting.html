<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title class="i18n" name='i_pageTitle'>Location System</title>
    <meta id="i18n_pagename" content="common">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- BootStrap3 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <!-- JQuery -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Add icon library -->
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css'
        integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>
    <!-- Icon Navbar -->
    <link rel="stylesheet" type="text/css" href="../css/icon_navbar/animate.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/icon_navbar/menu2.css" />
    <!-- Edit css -->
    <link rel="stylesheet" type="text/css" href="../css/login_user.css" />
    <link rel="stylesheet" type="text/css" href="../css/map_setting_style.css">
    <link rel="stylesheet" type="text/css" href="../css/tree_table/tree.css">
    <!-- Edit js -->
    <script type="text/javascript" src="../js/tree_table/tree.js"></script>
    <script type="text/javascript" src="../js/general_functions.js"></script>
    <script type="text/javascript" src="../js/check_permission.js"></script>
    <script type="text/javascript" src="../js/map_setting_load.js"></script>
    <script type="text/javascript" src="../js/group_setting.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_map_draw.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_map_setting.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_map_add.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_anchor_list.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_anchor_group.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_group_list.js"></script>
</head>

<body>
    <div class="container">
        <!--icon navbar-->
        <div id="NavbarHtml"></div>

        <!-- Web Content -->
        <div class="row">
            <div class="col-lg-12">
                <div style="float:right;">
                    <label id="login_user"></label>
                    <label class="i18n" name="i_language" style="color:rgb(0, 0, 0);"></label>
                    <select id="language" style="margin-top:5px;">
                        <option value="en">English</option>
                        <option value="zh-TW">繁體中文</option>
                        <option value="zh-CN">简体中文</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12" style="display: inline-table;">
                <div id="maps_gallery"></div>
                <label for="add_new_map" class="custom-file-download">
                    <div id="new_map_block"></div>
                    <span class="i18n" name="i_addMap"></span> <i class="far fa-images"></i>
                </label>
                <input id="add_new_map" type="button" class="btn-hidden" />
            </div>
        </div>
    </div>

    <!-- Hidden Dialog -->
    <div class="hidden_dialog">
        <!-- Following is a dialog to add group's main anchor -->
        <div id="dialog_add_map" class="dialog" title="Add New Map">
            <form>
                <fieldset style="text-align: left;">
                    <label class="i18n" name="i_mapName"></label> :
                    <input type="text" id="add_map_name" value="" style="max-width:100px;">
                    <br><br>
                    <!--Load Map-->
                    <span class="block-add-file">
                        <label for="add_map_file" class="btn-add-file i18n-input" selectattr="title"
                            selectname="i_inputNewMap">
                            <span class="i18n" name="i_selectMapImage"></span> <i class="far fa-image"
                                style='font-size:18px;'></i></label>
                        <input id="add_map_file" type="file" accept="image/*" />
                    </span>
                    <br><br>
                    <img id="add_map_image" src="" width="100%">
                    <br><br>
                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to set the selected map or add a new map -->
        <div id="dialog_map_setting" class="dialog" title="Set Map & Anchors" style="overflow:auto;">
            <form>
                <fieldset>
                    <div style="height:490px; float:left;">
                        <div class="cvsBlock" id="mapBlock">
                            <canvas id="canvas_map" height="1" width="1">
                                <span class="i18n" name="i_no_canvas"></span>
                            </canvas>
                        </div>
                        <div style="height:40px;">
                            <span style="float:left;">
                                <span class="i18n" name="i_posX"></span> : <label id="x" style="width:100px;"></label>
                                <span class="i18n" name="i_posY"></span> : <label id="y" style="width:100px;"></label>
                            </span>
                        </div>
                    </div>
                    <div style="height:490px; float:left;">
                        <div style="margin: 0px 0px 40px 10px;">
                            <nav class="sidebar-menu">
                                <ul class="nav">
                                    <!--Load Map-->
                                    <li><label for="menu_load_map" class="btn-sidebar i18n-input" selectattr="title"
                                            selectname="i_input_map">
                                            <i class="far fa-image" style='font-size:20px;'></i></label>
                                        <input id="menu_load_map" type="file" accept="image/*" /></li>
                                    <!--Restore Size-->
                                    <li><label for="menu_resize" id="label_resize" class="btn-sidebar i18n-input"
                                            selectattr="title" selectname="i_restore_scale">
                                            <i class="fas fa-expand" style='font-size:20px;'></i></label>
                                        <input id="menu_resize" type="button" class="btn-hidden" /></li>
                                    <!--Map Info-->
                                    <li><label for="menu_map_info" id="label_map_info" class="btn-sidebar i18n-input"
                                            selectattr="title" selectname="i_mapInfo">
                                            <i class="fas fa-info-circle" style='font-size:20px;'></i></label>
                                        <input id="menu_map_info" type="button" class="btn-hidden" /></li>
                                    <!--Anchor List-->
                                    <li><label for="menu_anchor_list" id="label_anchor_list"
                                            class="btn-sidebar i18n-input" selectattr="title" selectname="i_anchorList">
                                            <i class="fas fa-map-pin" style='font-size:20px;'></i></label>
                                        <input id="menu_anchor_list" type="button" class="btn-hidden" /></li>
                                    <!--Group List-->
                                    <li><label for="menu_group_list" id="label_group_list"
                                            class="btn-sidebar i18n-input" selectattr="title" selectname="i_groupList">
                                            <i class="fas fa-draw-polygon" style='font-size:20px;'></i></label>
                                        <input id="menu_group_list" type="button" class="btn-hidden" /></li>
                                    <!--Anchor Group-->
                                    <li><label for="menu_anchor_group" id="label_anchor_group"
                                            class="btn-sidebar i18n-input" selectattr="title"
                                            selectname="i_anchorGroup">
                                            <i class="far fa-object-ungroup" style='font-size:20px;'></i></label>
                                        <input id="menu_anchor_group" type="button" class="btn-hidden" /></li>
                                </ul>
                            </nav>
                        </div>

                        <div id="block_info" style="margin-left:10px; padding:20px;">
                            <input type="hidden" id="map_info_id" />
                            <label class="i18n" name="i_mapName"></label> :&nbsp;
                            <input type="text" id="map_info_name" style="width:120px;" />
                            <br><br>
                            <label class="i18n" name="i_mapScale"></label> :&nbsp;&nbsp;&nbsp;1 :
                            <input type="text" id="map_info_scale" style="width:100px;" />
                        </div>
                        <div id="block_anchor_list">
                            <span style="margin: 0px 0px 0px 10px">
                                <label for="btn_add_anchor_list" id="label_add_anchor_list" class="btn-add i18n-input"
                                    selectattr="title" selectname="i_addAnchorGroup">
                                    <i class="fas fa-plus-square" style='font-size:20px;'></i></label>
                                <input id="btn_add_anchor_list" type="button" class="btn-hidden" />
                                <label for="btn_delete_anchor_list" id="label_delete_anchor_list"
                                    class="btn-delete i18n-input" selectattr="title" selectname="i_deleteAnchorGroup"><i
                                        class="fas fa-minus-square" style='font-size:20px;'></i></label>
                                <input id="btn_delete_anchor_list" type="button" class="btn-hidden" />
                            </span>
                            <div class="block-list">
                                <table id="table_main_anchor_list" class="table-line">
                                    <thead>
                                        <tr>
                                            <th style="min-width:60px;" class="i18n" name="i_item"></th>
                                            <th style="min-width:90px;" class="i18n" name="i_mainAnchorID"></th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                <br>
                                <table id="table_anchor_list" class="table-line">
                                    <thead>
                                        <tr>
                                            <th style="min-width:60px;" class="i18n" name="i_item"></th>
                                            <th style="min-width:90px;" class="i18n" name="i_anchorID"></th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="block_group_list">
                            <span style="margin: 0px 0px 0px 10px">
                                <label for="btn_add_group" id="label_add_group" class="btn-add i18n-input"
                                    selectattr="title" selectname="i_addGroup">
                                    <i class="fas fa-plus-square" style='font-size:20px;'></i></label>
                                <input id="btn_add_group" type="button" class="btn-hidden" />
                                <label for="btn_delete_group" id="label_delete_group" class="btn-delete i18n-input"
                                    selectattr="title" selectname="i_deleteGroup"><i class="fas fa-minus-square"
                                        style='font-size:20px;'></i></label>
                                <input id="btn_delete_group" type="button" class="btn-hidden" />
                                <!--Add Pos-->
                                <label for="btn_pos_group" id="label_pos_group" class="btn-add-pos i18n-input"
                                    selectattr="title" selectname="i_anchorPosition">
                                    <i class="fas fa-map-marked-alt" style='font-size:20px;'></i></label>
                                <input id="btn_pos_group" type="button" class="btn-hidden" />
                            </span>
                            <div class="block-list">
                                <table id="table_group_list" class="table-line">
                                    <thead>
                                        <tr>
                                            <th class="i18n" name="i_item" style="min-width: 60px;"></th>
                                            <th class="i18n" name="i_groupName"></th>
                                            <th class="i18n" name="i_mainAnchorID"></th>
                                            <th class="i18n" name="i_posX"></th>
                                            <th class="i18n" name="i_posY"></th>
                                            <th class="i18n" name="i_edit"></th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="block_anchor_group">
                            <span style="margin: 0px 0px 0px 10px">
                                <label for="btn_add_anchor_group" id="label_add_anchor_group" class="btn-add i18n-input"
                                    selectattr="title" selectname="i_addAnchorGroup">
                                    <i class="fas fa-plus-square" style='font-size:20px;'></i></label>
                                <input id="btn_add_anchor_group" type="button" class="btn-hidden" />
                                <label for="btn_delete_anchor_group" id="label_delete_anchor_group"
                                    class="btn-delete i18n-input" selectattr="title" selectname="i_deleteAnchorGroup"><i
                                        class="fas fa-minus-square" style='font-size:20px;'></i></label>
                                <input id="btn_delete_anchor_group" type="button" class="btn-hidden" />
                                <!--Add Pos-->
                                <label for="btn_pos_anchor_group" id="label_pos_anchor_group"
                                    class="btn-add-pos i18n-input" selectattr="title" selectname="i_anchorPosition">
                                    <i class="fas fa-map-marked-alt" style='font-size:20px;'></i></label>
                                <input id="btn_pos_anchor_group" type="button" class="btn-hidden" />
                            </span>
                            <div style="margin: 0px 0px 0px 10px;">
                                <ul id="myTab" class="nav nav-tabs">
                                    <li class="active">
                                        <a href="#anchor_group_list" data-toggle="tab">List</a>
                                    </li>
                                    <li><a href="#anchor_group_chart" data-toggle="tab">Chart</a></li>
                                </ul>
                                <div id="myTabContent" class="tab-content">
                                    <div class="tab-pane fade in active" id="anchor_group_list">
                                        <table id="table_anchor_group" class="table-line">
                                            <thead>
                                                <tr>
                                                    <th class="i18n" name="i_item" style="min-width: 60px;"></th>
                                                    <th class="i18n" name="i_group"></th>
                                                    <th class="i18n" name="i_mainAnchor"></th>
                                                    <th class="i18n" name="i_anchor"></th>
                                                    <th class="i18n" name="i_posX"></th>
                                                    <th class="i18n" name="i_posY"></th>
                                                    <th class="i18n" name="i_edit"></th>
                                                </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                    <div class="tab-pane fade" id="anchor_group_chart">
                                        <div class="tree"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to add a new anchor -->
        <div id="dialog_add_new_anchor" class="dialog" title="Add Anchor">
            <form>
                <fieldset style="text-align: left;">
                    <label for="anchor_type" class="i18n" name="i_anchorType"></label> :
                    <select id="anchor_type">
                        <option value="" selected="selected" class="i18n" name="i_anchor"></option>
                        <option value="main" class="i18n" name="i_mainAnchor"></option>
                    </select>
                    <br><br>
                    <label class="i18n" name="i_anchorID"></label> :
                    <input type="text" id="anchor_id" value="" style="max-width:100px;">
                    <label id="anchor_id_alert"></label>
                    <br>(0 ~ 65535)<br><br>
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to add group's main anchor -->
        <div id="dialog_add_group_list" class="dialog" title="Add Group">
            <form>
                <fieldset style="text-align: left;">
                    <label for="add_grouplist_id" class="i18n" name="i_groupID"></label> :
                    <input type="text" id="add_grouplist_id" value="" style="max-width:100px;">
                    <label id="add_group_id_alert"></label>
                    <br>(0 ~ 65535)<br><br>
                    <label for="add_grouplist_name" class="i18n" name="i_groupName"></label> :
                    <input type="text" id="add_grouplist_name" value="" style="max-width:100px;">
                    <br><br>
                    <label for="add_grouplist_main_anchor" class="i18n" name="i_mainAnchorID"></label> :
                    <select id="add_grouplist_main_anchor"></select>
                    <br><br>
                    <label class="i18n" name="i_posX"></label> :
                    <input type="text" id="add_grouplist_main_anchor_x" value="" style="max-width:100px;">
                    <br><br>
                    <label class="i18n" name="i_posY"></label> :
                    <input type="text" id="add_grouplist_main_anchor_y" value="" style="max-width:100px;">
                    <br><br>
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to edit group's main anchor -->
        <div id="dialog_edit_group_list" class="dialog" title="Edit Group">
            <form>
                <fieldset style="text-align: left;">
                    <label class="i18n" name="i_group"></label> :
                    <label for="btn_edit_grouplist_add" id="label_edit_grouplist_add" class="btn-add i18n-input"
                        selectattr="title" selectname="i_addAnchorGroup">
                        <i class="fas fa-plus-square" style='font-size:20px;'></i></label>
                    <input id="btn_edit_grouplist_add" type="button" class="btn-hidden" />
                    <label for="btn_edit_grouplist_delete" id="label_edit_grouplist_delete"
                        class="btn-delete i18n-input" selectattr="title" selectname="i_deleteAnchorGroup"><i
                            class="fas fa-minus-square" style='font-size:20px;'></i></label>
                    <input id="btn_edit_grouplist_delete" type="button" class="btn-hidden" />
                    <table id="table_edit_grouplist" class="table-line">
                        <thead>
                            <tr>
                                <th class="i18n" name="i_item" style="min-width: 60px;"></th>
                                <th class="i18n" name="i_groupID"></th>
                                <th class="i18n" name="i_groupName"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <br>
                    <label class="i18n" name="i_mainAnchorID"></label> :
                    <select id="edit_grouplist_main_anchor"></select>
                    <br><br>
                    <label class="i18n" name="i_posX"></label> :
                    <input type="text" id="edit_grouplist_main_anchor_x" value="" style="max-width:100px;">
                    <br><br>
                    <label class="i18n" name="i_posY"></label> :
                    <input type="text" id="edit_grouplist_main_anchor_y" value="" style="max-width:100px;">
                    <br><br>
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to create the connection between anchor and group -->
        <div id="dialog_add_anchor_group" class="dialog" title="Connect Anchor and Group">
            <form>
                <fieldset style="text-align: left;">
                    <label class="i18n" name="i_groupID"></label> :
                    <select id="add_group_id"></select>
                    <br><br>
                    <label class="i18n" name="i_groupName"></label> :
                    <select id="add_group_name"></select>
                    <br><br>
                    <label class="i18n" name="i_anchor"></label> :
                    <label for="btn_add_anc" id="label_add_anc" class="btn-add i18n-input" selectattr="title"
                        selectname="i_addAnchor"><i class="fas fa-plus-square" style='font-size:20px;'></i></label>
                    <input id="btn_add_anc" type="button" class="btn-hidden" />
                    <label for="btn_delete_anc" id="label_delete_anc" class="btn-delete i18n-input" selectattr="title"
                        selectname="i_deleteAnchor"><i class="fas fa-minus-square" style='font-size:20px;'></i></label>
                    <input id="btn_delete_anc" type="button" class="btn-hidden" />
                    <table id="table_add_anc" class="table-line">
                        <thead>
                            <tr>
                                <th class="i18n" name="i_item" style="min-width: 60px;"></th>
                                <th class="i18n" name="i_anchorID"></th>
                                <th class="i18n" name="i_posX"></th>
                                <th class="i18n" name="i_posY"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <br><br>
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to edit the connection between anchor and group -->
        <div id="dialog_edit_anchor_group" class="dialog" title="Connect Anchor and Group">
            <form>
                <fieldset style="text-align: left;">
                    <label class="i18n" name="i_group"></label> :
                    <label for="btn_edit_group_add" id="label_edit_group_add" class="btn-add i18n-input"
                        selectattr="title" selectname="i_addAnchorGroup">
                        <i class="fas fa-plus-square" style='font-size:20px;'></i></label>
                    <input id="btn_edit_group_add" type="button" class="btn-hidden" />
                    <label for="btn_edit_group_delete" id="label_edit_group_delete" class="btn-delete i18n-input"
                        selectattr="title" selectname="i_deleteAnchorGroup"><i class="fas fa-minus-square"
                            style='font-size:20px;'></i></label>
                    <input id="btn_edit_group_delete" type="button" class="btn-hidden" />
                    <table id="table_edit_group_ids" class="table-line">
                        <thead>
                            <tr>
                                <th class="i18n" name="i_item" style="min-width: 60px;"></th>
                                <th class="i18n" name="i_groupID"></th>
                                <th class="i18n" name="i_groupName"></th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                    <br>
                    <label class="i18n" name="i_anchorID"></label> :
                    <select id="edit_group_anchor"></select>
                    <br><br>
                    <label class="i18n" name="i_posX"></label> :
                    <input type="text" id="edit_group_anchor_x" value="" style="max-width:100px;">
                    <br><br>
                    <label class="i18n" name="i_posY"></label> :
                    <input type="text" id="edit_group_anchor_y" value="" style="max-width:100px;">
                    <br><br>
                </fieldset>
            </form>
        </div>
    </div>
    <!-- i18n translation -->
    <script type="text/javascript" src="../js/i18n/jquery.i18n.properties.js"></script>
    <script type="text/javascript" src="../js/i18n/language.js"></script>
    <!-- i18n -->
</body>

</html>