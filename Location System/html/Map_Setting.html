<!DOCTYPE html>
<html>

<head>
    <title>Location System</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--BootStrap3-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <!--JQuery庫-->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Add icon library -->
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css'
        integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>
    <!-- Icon Navbar -->
    <link rel="stylesheet" type="text/css" href="../css/icon_navbar/animate.min.css" />
    <link rel="stylesheet" type="text/css" href="../css/icon_navbar/menu2.css" />
    <!-- Edit css -->
    <link rel=stylesheet type="text/css" href="../css/map_setting_style.css">
    <script type="text/javascript" src="../js/general_functions.js"></script>
    <script type="text/javascript" src="../js/map_setting_load.js"></script>
    <script type="text/javascript" src="../js/group_setting.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_map_draw.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_map_setting.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_add_map.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_anchor_list.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_anchor_group.js"></script>
    <script type="text/javascript" src="../js/Dialog/dialog_group_list.js"></script>
</head>

<body>
    <div class="container">
        <!--icon navbar-->
        <aside class="menu">
            <div class="menu-left">
                <nav class="sidebar">
                    <ul class="nav">
                        <li><a href="../index.html">
                                <i class="fas fa-home"></i><span>首頁</span></a></li>
                        <li><a href="../Member_Setting.html">
                                <i class="fas fa-user-cog"></i><span>人員設置</span></a></li>
                        <li><a href="../Timeline.html">
                                <i class="fas fa-route"></i><span>歷史軌跡</span></a></li>
                        <li class="active"><a href="#">
                                <i class="fas fa-map"></i><span>地圖設定</span></a></li>
                        <li><a href="../Anchor_Setting.html">
                                <i class="fas fa-anchor"></i><span>裝置設定</span></a></li>
                        <li><a href="../Alarm_Setting.html">
                                <i class="fas fa-bell"></i><span>警報設定</span></a></li>
                        <li><a href="../Reference.html">
                                <i class="fas fa-cogs"></i><span>進階設定</span></a></li>
                        <li class="excel"><a href="#">
                                <i class="fas fa-sign-in-alt"></i><span>匯入</span></a></li>
                        <li class="excel"><a href="#">
                                <i class="fas fa-sign-out-alt"></i><span>匯出</span></a></li>
                        <hr>
                    </ul>
                </nav>
            </div>
        </aside>

        <!-- Web Content -->
        <div class="row">
            <div class="col-lg-12">
                <div id="maps_gallery"></div>
                <label for="add_new_map" class="custom-file-download">
                    <div class="new_map_block" id="new_map_block"></div>New Map <i class="far fa-images"></i>
                </label>
                <input id="add_new_map" type="button" class="btn-hidden" />
            </div>
        </div>
    </div>

    <!-- Hidden Dialog -->
    <div class="hidden_dialog">
        <!-- Following is a dialog to add group's main anchor -->
        <div id="dialog_add_map" title="Add New Map">
            <form>
                <fieldset style="text-align: left;">
                    <label>Map Name : </label>
                    <input type="text" id="add_map_name" value="" style="max-width:100px;">
                    <br><br>
                    <!--Load Map-->
                    <span class="block-add-file">
                        <label for="add_map_file" class="btn-add-file" title="load new map">
                            Select Map Image <i class="far fa-image" style='font-size:18px;'></i></label>
                        <input id="add_map_file" type="file" accept="image/*" />
                    </span>
                    <br><br>
                    <img id="add_map_image" src="" width="100%">
                    <br><br>
                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to set the selected map or add a new map -->
        <div id="dialog_map_setting" title="Set Map & Anchors" style="overflow:auto;">
            <form>
                <fieldset>
                    <div style="height:490px; float:left;">
                        <div class="cvsBlock" id="mapBlock">
                            <canvas id="canvas_map" style="height:1px; width:1px;">
                                此瀏覽器不支援canvas，請更換成Chrome瀏覽器
                            </canvas>
                        </div>
                        <div style="height:40px;">
                            <span style="float:left;">
                                X:<label id="x" style="width:100px;"></label>
                                Y:<label id="y" style="width:100px;"></label>
                            </span>
                        </div>
                    </div>
                    <div style="height:490px; float:left;">
                        <div style="margin: 0px 0px 40px 10px;">
                            <nav class="sidebar-menu">
                                <ul class="nav">
                                    <!--Load Map-->
                                    <li><label for="menu_load_map" class="btn-sidebar" title="load new map">
                                            <i class="far fa-image" style='font-size:20px;'></i></label>
                                        <input id="menu_load_map" type="file" accept="image/*" /></li>
                                    <!--Restore Size-->
                                    <li><label for="menu_resize" id="label_resize" class="btn-sidebar"
                                            title="Restore original size">
                                            <i class="fas fa-expand" style='font-size:20px;'></i></label>
                                        <input id="menu_resize" type="button" class="btn-hidden" /></li>
                                    <!--Map Info-->
                                    <li><label for="menu_map_info" id="label_map_info" class="btn-sidebar"
                                            title="Map Information">
                                            <i class="fas fa-info-circle" style='font-size:20px;'></i></label>
                                        <input id="menu_map_info" type="button" class="btn-hidden" /></li>
                                    <!--Anchor List-->
                                    <li><label for="menu_anchor_list" id="label_anchor_list" class="btn-sidebar"
                                            title="Anchor List">
                                            <i class="fas fa-map-pin" style='font-size:20px;'></i></label>
                                        <input id="menu_anchor_list" type="button" class="btn-hidden" /></li>
                                    <!--Group List-->
                                    <li><label for="menu_group_list" id="label_group_list" class="btn-sidebar"
                                            title="Group Setting">
                                            <i class="fas fa-draw-polygon" style='font-size:20px;'></i></label>
                                        <input id="menu_group_list" type="button" class="btn-hidden" /></li>
                                    <!--Anchor Group-->
                                    <li><label for="menu_anchor_group" id="label_anchor_group" class="btn-sidebar"
                                            title="Anchor Group">
                                            <i class="far fa-object-ungroup" style='font-size:20px;'></i></label>
                                        <input id="menu_anchor_group" type="button" class="btn-hidden" /></li>
                                </ul>
                            </nav>
                        </div>

                        <div id="block_info" style="margin-left:10px; padding:20px;">
                            <input type="hidden" id="map_info_id" />
                            <label>Map Name:&nbsp;</label>
                            <input type="text" id="map_info_name" style="width:120px;" />
                            <br><br>
                            <label>Map Scale:&nbsp;&nbsp;&nbsp;1 : </label>
                            <input type="text" id="map_info_scale" style="width:100px;" />
                        </div>
                        <div id="block_anchor_list">
                            <span style="margin: 0px 0px 0px 10px">
                                <!--Add Pos-->
                                <label for="btn_anchor_position" id="label_anchor_position" class="btn-add-pos"
                                    title="Start anchor position"><i class="fas fa-map-marked-alt"
                                        style='font-size:20px;'></i></label>
                                <input id="btn_anchor_position" type="button" class="btn-hidden" />
                                <!--Add-->
                                <label for="btn_add_anchor" id="label_add_anchor" class="btn-add" title="Add anchor">
                                    <i class="fas fa-map-marker-alt" style='font-size:20px;'></i></label>
                                <input id="btn_add_anchor" type="button" class="btn-hidden" />
                            </span>
                            <div class="block-list">
                                <table id="table_main_anchor_list" class="table-line">
                                    <thead>
                                        <tr class="ui-widget-header">
                                            <th>Main Anchor ID</th>
                                            <th>X</th>
                                            <th>Y</th>
                                            <th>operate</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                <br>
                                <table id="table_anchor_list" class="table-line">
                                    <thead>
                                        <tr class="ui-widget-header">
                                            <th>Anchor ID</th>
                                            <th>X</th>
                                            <th>Y</th>
                                            <th>operate</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="block_group_list">
                            <span style="margin: 0px 0px 0px 10px">
                                <label for="btn_add_group" id="label_add_group" class="btn-add" title="Add group">
                                    <i class="fas fa-plus-square" style='font-size:20px;'></i></label>
                                <input id="btn_add_group" type="button" class="btn-hidden" />
                                <label for="btn_delete_group" id="label_delete_group" class="btn-delete"
                                    title="Delete group"><i class="fas fa-minus-square"
                                        style='font-size:20px;'></i></label>
                                <input id="btn_delete_group" type="button" class="btn-hidden" />
                            </span>
                            <div class="block-list">
                                <table id="table_group_list" class="table-line">
                                    <thead>
                                        <tr class="ui-widget-header ">
                                            <th>Item</th>
                                            <th>Group</th>
                                            <th>Main Anchor</th>
                                            <th>Edit</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                        <div id="block_anchor_group">
                            <span style="margin: 0px 0px 0px 10px">
                                <label for="btn_add_anchor_group" id="label_add_anchor_group" class="btn-add"
                                    title="Add anchor group">
                                    <i class="fas fa-plus-square" style='font-size:20px;'></i></label>
                                <input id="btn_add_anchor_group" type="button" class="btn-hidden" />
                                <label for="btn_delete_anchor_group" id="label_delete_anchor_group" class="btn-delete"
                                    title="Delete anchor group"><i class="fas fa-minus-square"
                                        style='font-size:20px;'></i></label>
                                <input id="btn_delete_anchor_group" type="button" class="btn-hidden" />
                            </span>
                            <div class="block-list">
                                <table id="table_anchor_group" class="table-line">
                                    <thead>
                                        <tr class="ui-widget-header">
                                            <th style="min-width: 60px;">Item</th>
                                            <th>Group</th>
                                            <th>Main Anchor</th>
                                            <th>Anchor</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to add a new anchor -->
        <div id="dialog_add_new_anchor" title="Add New Anchor">
            <form>
                <fieldset style="text-align: left;">
                    <label for="anchor_type">Anchor Type : </label>
                    <select id="anchor_type">
                        <option value="" selected="selected">Anchor</option>
                        <option value="main">Main Anchor</option>
                    </select>
                    <br><br>
                    <label>Anchor ID : </label>
                    <input type="text" id="anchor_id" value="" style="max-width:100px;">
                    <label id="anchor_id_alert"></label>
                    <br>(0 ~ 65535)<br><br>
                    <label>X : </label>
                    <input type="text" id="anchor_x" value="" style="max-width:100px;">
                    <br><br>
                    <label>Y : </label>
                    <input type="text" id="anchor_y" value="" style="max-width:100px;">
                    <br><br>
                    <div id="anchor_input_group">
                        <label>Group ID : </label>
                        <input type="text" id="anchor_input_group_id" value="" style="max-width:100px;">
                        <label id="group_id_alert"></label>
                        <br>(0 ~ 65535)<br><br>
                        <label>Group Name : </label>
                        <input type="text" id="anchor_input_group_name" value="" style="max-width:100px;">
                    </div>
                    <div id="anchor_select_group">
                        <label>Group ID : </label>
                        <select id="anchor_select_group_id"></select>
                    </div>
                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to edit the anchor -->
        <div id="dialog_edit_anchor" title="Edit The Anchor">
            <form>
                <fieldset style="text-align: left;">
                    <label>Anchor Type : </label>
                    <label id="edit_anchor_type"></label>
                    <br><br>
                    <label>Anchor ID : </label>
                    <label id="edit_anchor_id"></label>
                    <br><br>
                    <label>X : </label>
                    <input type="text" id="edit_anchor_x" value="" style="max-width:100px;">
                    <br><br>
                    <label>Y : </label>
                    <input type="text" id="edit_anchor_y" value="" style="max-width:100px;">
                    <br><br>
                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to add group's main anchor -->
        <div id="dialog_add_group_list" title="Add Group List">
            <form>
                <fieldset style="text-align: left;">
                    <label for="add_grouplist_id">Group ID : </label>
                    <input type="text" id="add_grouplist_id" value="" style="max-width:100px;">
                    <label id="add_group_id_alert"></label>
                    <br>(0 ~ 65535)<br><br>
                    <label for="add_grouplist_name">Group Name : </label>
                    <input type="text" id="add_grouplist_name" value="" style="max-width:100px;">
                    <br><br>
                    <label for="add_grouplist_main_anchor">Main Anchor ID : </label>
                    <select id="add_grouplist_main_anchor"></select>
                    <br><br>
                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to edit group's main anchor -->
        <div id="dialog_edit_group_list" title="Edit Group List">
            <form>
                <fieldset style="text-align: left;">
                    <label>Group ID : </label>
                    <label id="edit_grouplist_id"></label>
                    <br><br>
                    <label>Group Name : </label>
                    <input type="text" id="edit_grouplist_name" value="" style="max-width:100px;">
                    <br><br>
                    <label>Main Anchor ID : </label>
                    <select id="edit_grouplist_main_anchor"></select>
                    <br><br>
                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                </fieldset>
            </form>
        </div>
        <!-- Following is a dialog to add a new group -->
        <div id="dialog_add_anchor_group" title="Add Anchor Group">
            <form>
                <fieldset style="text-align: left;">
                    <label>Group:</label>
                    <select id="add_group_id"></select>
                    <br><br>
                    <label>Main Anchor ID:</label>
                    <span id="add_group_main_anchor"></span>
                    <br><br>
                    <label>Anchor ID:</label>
                    <select id="add_group_anchor"></select>
                </fieldset>
            </form>
        </div>
    </div>
</body>

</html>